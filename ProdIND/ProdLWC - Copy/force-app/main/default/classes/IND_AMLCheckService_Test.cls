/*------------------------------------------------------------
Author:        Vaishnavi Gadewar
Company:       Persistent Systems
Description:   Test class for IND_AMLCheckRequest class 
Apex Class:    IND_AMLCheckRequest
History
Date            Author              Comments
-------------------------------------------------------------
30-12-2021      Vaishnavi Gadewar       Created
13-1-2022       Satyam More             Modified
------------------------------------------------------------*/
@isTest
public class IND_AMLCheckService_Test {
    
    @testSetup
    public static void createTestData(){       
        //Create User     
        Contact con = TestDataUtility.createTestContact(true);
        Profile p = [SELECT Id FROM Profile WHERE Name='IBL Partner Community Counter Staff'];     
        User u = new User(Alias = 'standt', Email='standarduser@testorg.com',MobilePhone = '9999999999',
                          EmailEncodingKey='UTF-8', LastName='Testing', LanguageLocaleKey='en_US',
                          LocaleSidKey='en_US', ProfileId = p.Id,Maker_Id__c='12',IsActive = true,
                          TimeZoneSidKey='America/Los_Angeles', ContactId = con.Id,
                          UserName='test_userprod4567@indusbank.com');
        insert u;
        System.runAs(u)
        {
            Opportunity opp = TestDataUtility.createTestOpportunity(false);
            if (Schema.sObjectType.Opportunity.isCreateable()){
                insert opp;
            }        
            Applicant__c applicant = TestDataUtility.createTestApplicantForSMS(false);
            applicant.Opportunity__c=opp.Id;
            if (Schema.sObjectType.Applicant__c.isCreateable()){
                insert applicant;
            }
        }        
    }
         
    @isTest
    public static void getAMLCheckRequestTest()
    {        
        User u = [SELECT Id,usertype FROM User WHERE UserName='test_userprod4567@indusbank.com' AND IsActive = true LIMIT 1];                             
            
        Applicant__c applicant = [SELECT Id, Opportunity__c FROM Applicant__c LIMIT 1];
            
        Test.StartTest();
        try
        {
            System.runAs(u)
            {
                IND_AMLCheckService.getAMLCheckRequest(applicant,applicant.Opportunity__c);
            }
        }
        catch(Exception e)
        {            
           System.debug('Ex--' + e.getMessage());
        }            
        Test.StopTest();
    } 
    
     @isTest
    public static void testIND_AMLCheckService(){
        try{
            
            Opportunity opp = TestDataUtility.createTestOpportunity(false);
            if (Schema.sObjectType.Opportunity.isCreateable()){
                insert opp;
            }
            
            Applicant__c applicant = TestDataUtility.createTestApplicant(false);
            applicant.Opportunity__c=opp.Id;
            if (Schema.sObjectType.Applicant__c.isCreateable()){
                insert applicant;
            }
            
            String loanAppId ='';
            //Continuation con = (Continuation)IntegrationEngine.doAMLCheckCallout(applicant.Id,loanAppId);
            
            // Create a mock response
            HttpResponse response = new HttpResponse(); 
            response.setBody('{"JData":"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"}');
            response.setStatusCode(200);
            
            String continuationLabel = IntegrationEngine.continuationLabel;
            List<String> labels = new List<String>{continuationLabel};
            Object continuationState= IntegrationEngine.continuationState;   
            Test.startTest();
            Test.setContinuationResponse(continuationLabel, response);
            String AMLCheckCallOutResponse = (String)IntegrationEngine.processAMLCheckAPIResponse(labels, IntegrationEngine.continuationState);
            Test.stopTest();
            String responseExpected ='{ "response": { "status": "SUCCESS", "respDesc": "AML Check", "content": [ "{"WlMatch":{"status":{"status":"200","errorDetails":""},"matchedResults":{"total":31,"maxScore":"0.920","matchedRecords":[{"id":"KYC_2753","score":"0.920","listName":"CUSTOM_KYC_NEGATIVE","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.9112284851074218,"name":"name","value":"KRISHNA SAW","queryValue":"Sai Krishna"}]},{"id":"CR_12740","score":"0.910","listName":"CUSTOM_RBI","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.9,"name":"name","value":"SHRI. S KRISHNA","queryValue":"Sai Krishna"}]},{"id":"CANL_24335","score":"0.910","listName":"CUSTOM_AML","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.9,"name":"name","value":"S KRISHNA AND CO","queryValue":"Sai Krishna"}]},{"id":"CANL_63551","score":"0.882","listName":"CUSTOM_AML","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8684905242919921,"name":"name","value":"JAI SRI KRISHNA ENTERPRISES","queryValue":"Sai Krishna"}]},{"id":"GBOREG_195550","score":"0.882","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8684905242919921,"name":"name","value":"JAI KRISHNA ENTERPRISES PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"KYC_350","score":"0.869","listName":"CUSTOM_KYC_NEGATIVE","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA PHARMACEUTICALS","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_KYC_NEGATIVE_KYC_25142","score":"0.869","listName":"CUSTOM_KYC_NEGATIVE","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA LOGISTICS","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_KYC_NEGATIVE_KYC_25338","score":"0.869","listName":"CUSTOM_KYC_NEGATIVE","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA LOGISTICS","queryValue":"Sai Krishna"}]},{"id":"CANL_53617","score":"0.869","listName":"CUSTOM_AML","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA POLYMERS","queryValue":"Sai Krishna"}]},{"id":"CANL_58487","score":"0.869","listName":"CUSTOM_AML","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"LANKA SAI KRISHNA","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_472758","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"KRISHNA SAI ISPAT ","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_468074","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA ORGANICS ","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_478212","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA DAIRY ","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_NEGATIVE_MEDIA_NML_15951","score":"0.869","listName":"CUSTOM_NEGATIVE_MEDIA","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SRI SAI KRISHNA RICE INDUSTRY","queryValue":"Sai Krishna"}]},{"id":"GBOREG_327365","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI SRI KRISHNA PROPERTIES AND","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266991","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA DEVELOPERS PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266992","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA ENERGY PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266993","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA FOUNDATIONS PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266994","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA HOSPITALITY PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266996","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA IMPEX PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_267000","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA TRANSPOST PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_364991","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA ORGANICS PVT LTD","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_369675","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"KRISHNA SAI ISPAT PRIVATE LIMITED","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_375129","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA DAIRY PRIVATE LIMITED","queryValue":"Sai Krishna"}]},{"id":"GBOREG_290497","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SRI SAI KRISHNA COTSPIN PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266998","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA NETWORK MARKETING PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_58558","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA FINANCE AND LEASING PRIVATE LIMITED","queryValue":"Sai Krishna"}]},{"id":"CR_18845","score":"0.866","listName":"CUSTOM_RBI","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8506478881835937,"name":"name","value":"KRISHNA SAIKIA","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_AML_CANL_22992","score":"0.857","listName":"CUSTOM_AML","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8409176635742187,"name":"name","value":" SAI KRIPA ENTERPRISES","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_584412","score":"0.857","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8409176635742187,"name":"name","value":"SAI KRIPA ENTERPRISES","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266982","score":"0.857","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8409176635742187,"name":"name","value":"SAI KRIPA SERVICES PRIVATE LIMITED ","queryValue":"Sai Krishna"}]}]}}}" ] } }';
            System.assertEquals(responseExpected, AMLCheckCallOutResponse);
            
        } catch(Exception ex){
            System.debug('Ex--' + ex.getMessage());
        }
    }
     
    @isTest
    public static void testIND_AMLCheckService2(){
        try{
            
            Opportunity opp = TestDataUtility.createTestOpportunity(false);
            if (Schema.sObjectType.Opportunity.isCreateable()){
                insert opp;
            }
            
            //Applicant__c applicant = TestDataUtility.createTestApplicant2(false);
            //applicant.Opportunity__c=opp.Id;
            //if (Schema.sObjectType.Applicant__c.isCreateable()){
            //    insert applicant;
            //}
            String loanAppId = '';
            //Continuation con = (Continuation)IntegrationEngine.doAMLCheckCallout(applicant.Id,loanAppId);
            
            // Create a mock response
            HttpResponse response = new HttpResponse(); 
            response.setBody('{"JData":"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"}');
            response.setStatusCode(200);
            
            String continuationLabel = IntegrationEngine.continuationLabel;
            List<String> labels = new List<String>{continuationLabel};
            Object continuationState= IntegrationEngine.continuationState;   
            Test.startTest();
            Test.setContinuationResponse(continuationLabel, response);
            String AMLCheckCallOutResponse = (String)IntegrationEngine.processAMLCheckAPIResponse(labels, IntegrationEngine.continuationState);
            Test.stopTest();
            String responseExpected ='{ "response": { "status": "SUCCESS", "respDesc": "AML Check", "content": [ "{"WlMatch":{"status":{"status":"200","errorDetails":""},"matchedResults":{"total":31,"maxScore":"0.920","matchedRecords":[{"id":"KYC_2753","score":"0.920","listName":"CUSTOM_KYC_NEGATIVE","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.9112284851074218,"name":"name","value":"KRISHNA SAW","queryValue":"Sai Krishna"}]},{"id":"CR_12740","score":"0.910","listName":"CUSTOM_RBI","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.9,"name":"name","value":"SHRI. S KRISHNA","queryValue":"Sai Krishna"}]},{"id":"CANL_24335","score":"0.910","listName":"CUSTOM_AML","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.9,"name":"name","value":"S KRISHNA AND CO","queryValue":"Sai Krishna"}]},{"id":"CANL_63551","score":"0.882","listName":"CUSTOM_AML","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8684905242919921,"name":"name","value":"JAI SRI KRISHNA ENTERPRISES","queryValue":"Sai Krishna"}]},{"id":"GBOREG_195550","score":"0.882","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8684905242919921,"name":"name","value":"JAI KRISHNA ENTERPRISES PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"KYC_350","score":"0.869","listName":"CUSTOM_KYC_NEGATIVE","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA PHARMACEUTICALS","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_KYC_NEGATIVE_KYC_25142","score":"0.869","listName":"CUSTOM_KYC_NEGATIVE","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA LOGISTICS","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_KYC_NEGATIVE_KYC_25338","score":"0.869","listName":"CUSTOM_KYC_NEGATIVE","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA LOGISTICS","queryValue":"Sai Krishna"}]},{"id":"CANL_53617","score":"0.869","listName":"CUSTOM_AML","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA POLYMERS","queryValue":"Sai Krishna"}]},{"id":"CANL_58487","score":"0.869","listName":"CUSTOM_AML","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"LANKA SAI KRISHNA","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_472758","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"KRISHNA SAI ISPAT ","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_468074","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA ORGANICS ","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_478212","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA DAIRY ","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_NEGATIVE_MEDIA_NML_15951","score":"0.869","listName":"CUSTOM_NEGATIVE_MEDIA","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SRI SAI KRISHNA RICE INDUSTRY","queryValue":"Sai Krishna"}]},{"id":"GBOREG_327365","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI SRI KRISHNA PROPERTIES AND","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266991","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA DEVELOPERS PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266992","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA ENERGY PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266993","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA FOUNDATIONS PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266994","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA HOSPITALITY PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266996","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA IMPEX PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_267000","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA TRANSPOST PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_364991","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA ORGANICS PVT LTD","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_369675","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"KRISHNA SAI ISPAT PRIVATE LIMITED","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_375129","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA DAIRY PRIVATE LIMITED","queryValue":"Sai Krishna"}]},{"id":"GBOREG_290497","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SRI SAI KRISHNA COTSPIN PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266998","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA NETWORK MARKETING PRIVATE LIMITED ","queryValue":"Sai Krishna"}]},{"id":"GBOREG_58558","score":"0.869","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8547007751464843,"name":"name","value":"SAI KRISHNA FINANCE AND LEASING PRIVATE LIMITED","queryValue":"Sai Krishna"}]},{"id":"CR_18845","score":"0.866","listName":"CUSTOM_RBI","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8506478881835937,"name":"name","value":"KRISHNA SAIKIA","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_AML_CANL_22992","score":"0.857","listName":"CUSTOM_AML","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8409176635742187,"name":"name","value":" SAI KRIPA ENTERPRISES","queryValue":"Sai Krishna"}]},{"id":"CUSTOM_GBO_Regulatory_GBOREG_584412","score":"0.857","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8409176635742187,"name":"name","value":"SAI KRIPA ENTERPRISES","queryValue":"Sai Krishna"}]},{"id":"GBOREG_266982","score":"0.857","listName":"CUSTOM_GBO_REGULATORY","fields":[{"score":1.0,"name":"nationality","value":"INDIA","queryValue":"India"},{"score":0.8409176635742187,"name":"name","value":"SAI KRIPA SERVICES PRIVATE LIMITED ","queryValue":"Sai Krishna"}]}]}}}" ] } }';
            System.assertEquals(responseExpected, AMLCheckCallOutResponse);
            
        } catch(Exception ex){
            System.debug('Ex--' + ex.getMessage());
        }
    }
    @isTest
    public static void getAMLCheckRequestTest1(){
        
        Opportunity opgd1 = new Opportunity();
        opgd1.StageName = 'Qualification';
        opgd1.CloseDate = Date.newInstance(2021, 1, 11);
        opgd1.Name = 'testone';
        insert opgd1;
        
        Applicant__c applicant = TestDataUtility.createTestApplicantForSMS(false);
        applicant.Opportunity__c=opgd1.Id;
        insert applicant;
        Test.StartTest();
            try{
              //  IND_AMLCheckService.getAMLCheckRequest(applicant,opgd1.Id);
            }catch(Exception e){}
            
        Test.StopTest();
    }
    
    
    
}