<template>
    <template if:true={validUser}>
        <c-l-w-c_-l-o-s_-deal-number-drop-down record-id={recordid} screen-name="Disbursement Request Preparation" onselectdealnumber={dealNumberHandler}></c-l-w-c_-l-o-s_-deal-number-drop-down>
        <template if:true={isVisible}>

            <template if:false={renderChilds} class="slds-is-relative slds-align_absolute-center">
                <lightning-spinner alternative-text="Loading" size="large" variant="brand"></lightning-spinner>
            </template>
            <template if:true={renderChilds}>
<lightning-tabset>

    <!--<lightning-tab label={label.RCU} value={label.RCU} onactive={handleMainActiveTab}>
                    <template if:true={mainTablist.rcu}>
                        <div class="slds-m-left_small slds-m-right_small">
                            <c-i-n-d-_-l-w-c-_-r-c-u></c-i-n-d-_-l-w-c-_-r-c-u>
                        </div>
                    </template>
</lightning-tab>-->

<lightning-tab label={label.Payment_Request} value={label.Payment_Request} onactive={handleMainActiveTab}>

    <lightning-tabset id="paymentTabset" active-tab-value={currentSubTab}>

        <lightning-tab id="Tab1" label={label.Business_Payment} value={label.Business_Payment} onactive={handleActiveSubTab}>
            <template if:true={viewappsubtabs.bussinesspayment}>
                                <div class="slds-m-left_small slds-m-right_small">
                                    <c-i-N-D-_-L-W-C-_-Business-Payment onsuccessfullysubmitted={handleTabSwitch} recordid={recordid} applicantid={loanapplicantid} currentloanappstage={currentappstage} currentloanappsubstage={currentappssubtage} disbursementrecordid={disbursementrecordid} disablefields={disableBusinessPaymentFields} deal-id={dealId}></c-i-n-d-_-l-w-c-_-business-payment>
                                </div>
                            </template>
        </lightning-tab>

        <lightning-tab id="Tab2" label={label.Insurance_Details} value={label.Insurance_Details} recordid={recordid} onactive={handleActiveSubTab}>
            <template if:true={viewappsubtabs.insurancedetails}>
                                <div class="slds-m-left_small slds-m-right_small">
                                    <template if:true={loanapplicantid}>
                                        <c-i-n-d-_-l-w-c-_-disbursement-insurance-details onsuccessfullysubmitted={handleTabSwitch} recordid={recordid} applicantid={loanapplicantid} disbursementrecordid={disbursementrecordid} disablefields={disableInsuranceFields} deal-id={dealId}></c-i-n-d-_-l-w-c-_-disbursement-insurance-details>
                                    </template>
            </div>
            </template>
        </lightning-tab>

        <lightning-tab id="Tab3" label={label.NewUsed_Vehicles} value={label.NewUsed_Vehicles} onactive={handleActiveSubTab}>
            <template if:true={viewappsubtabs.neworusedvehicle}>
                                <div class="slds-m-left_small slds-m-right_small">
                                    <c-i-n-d-_-l-w-c_-new-or-used-vehicles onsuccessfullysubmitted={handleTabSwitch} recordid={recordid} currentloanappstage={currentappstage} currentloanappsubstage={currentappssubtage} disbursementrecordid={disbursementrecordid} disablefields={disableNewUsedVehicleFields} deal-id={dealId}></c-i-n-d-_-l-w-c_-new-or-used-vehicles>
                                </div>
                            </template>
        </lightning-tab>

        <lightning-tab id="Tab4" label={label.Beneficiary_Details} value={label.Beneficiary_Details} onactive={handleActiveSubTab}>
            <template if:true={viewappsubtabs.beneficiarydetails}>
                                <div class="slds-m-left_small slds-m-right_small">
                                    <c-i-n-d-_-l-w-c_-beneficiary-details onsuccessfullysubmitted={handleTabSwitch} recordid={recordid} applicantid={loanapplicantid} loanapplicantdetails={loanapplicantdetails} disbursementrecordid={disbursementrecordid} disablefields={disableBenefeciaryFields} deal-id={dealId}></c-i-n-d-_-l-w-c_-beneficiary-details>
                                </div>
                            </template>
        </lightning-tab>

        <lightning-tab id="Tab5" label={label.Key_Fact_Statement} value={label.Key_Fact_Statement} onactive={handleActiveSubTab}>
            <template if:true={viewappsubtabs.keyfactstatement}>
                                <div class="slds-m-left_small slds-m-right_small">
                                    <c-i-N-D-_-L-W-C-_-K-F-S recordid={recordid} onsuccessfullysubmitted={handleTabSwitch} applicantid={loanapplicantid} loanapplicantdetails={loanapplicantdetails} disbursementrecordid={disbursementrecordid} deal-id={dealId}></c-i-N-D-_-L-W-C-_-K-F-S>
                                </div>
                            </template>
        </lightning-tab>

    </lightning-tabset>

</lightning-tab>

<lightning-tab label={label.RC_Upload} value={label.RC_Upload} onactive={handleMainActiveTab}>
    <template if:true={mainTablist.rcupload}>
                        <div class="slds-m-left_small slds-m-right_small">
                            <c-i-n-d-_-l-w-c_-r-c-upload disburserecordid={businessPaymentRecordId} recordid={recordid} applicantid={loanapplicantid} disablefields={disableRC} deal-id={dealId}></c-i-n-d-_-l-w-c_-r-c-upload>
                        </div>
                    </template>
</lightning-tab>

</lightning-tabset>
</template>
</template>
</template>
</template>